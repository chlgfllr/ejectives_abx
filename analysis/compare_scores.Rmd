---
title: "Compare ABXpy scores"
output: html_document
---

Creates a file with 2+ sets of results to compare the scores

```{r}
fixed <- readr::read_delim("../results/results_fixed.csv", "\t")
egg_deltas <- readr::read_delim("../results/results_deltas.csv", "\t")
egg_1000 <- readr::read_delim("../results/results_egg_1000.csv", "\t")
features_all <- readr::read_delim("../results/results_features_all.csv", "\t")
features_no_vot <- readr::read_delim("../results/results_features_no_vot.csv", "\t")
features_vot_only <- readr::read_delim("../results/results_features_vot_only.csv", "\t")
egg_abxpy <- readr::read_delim("../results/results_egg_abxpy.csv", "\t")

fixed$experiment <- "acoustic_fixed"

egg_deltas$experiment <- "egg_deltas"

egg_1000$experiment <- "egg_amplitude"

features_all$experiment <- "features_all"

features_no_vot$experiment <- "features_no_vot"

features_vot_only$experiment <- "features_vot_only"

egg_abxpy$experiment <- "egg_abxpy"
```

```{r}

comparison <- dplyr::bind_rows(egg_1000, egg_abxpy, egg_deltas, 
                               features_all, features_no_vot, features_vot_only, fixed)

```


```{r}

all_results <- comparison

all_results$place <- substr(all_results$by, 3, 5)
all_results$speaker <- stringr::str_sub(all_results$by, -9, -7)
all_results$vowel <- stringr::str_sub(all_results$by, -3, -3)
all_results$question <- grepl("question", all_results$by)
all_results$question <- ifelse(all_results$question=="TRUE", "question", "answer")
all_results$position <- grepl("initial", all_results$by)
all_results$position <- ifelse(all_results$position=="TRUE", "initial", "medial")

all_results$by <- NULL
  
```

```{r}
no_o_results <- subset(all_results, vowel != "o")
  
  
ggplot2::ggplot(no_o_results, aes(x = place, y = score, fill = experiment)) + 
  ggplot2::geom_boxplot(position="dodge") +
  ggplot2::facet_grid(speaker ~ .) +
  ggplot2::theme_minimal()
```


```{bash}
rm ../results/results_deltas.csv
rm ../results/results_egg_1000.csv
```

